name: JavaScript Runtime Error
agent: debug-specialist
version: "1.0.0"
description: Template for JavaScript runtime errors
template: |
  ğŸš¨ JavaScript é‹è¡Œæ™‚éŒ¯èª¤ - {{ severity|upper }} å„ªå…ˆç´š Debug

  ## éŒ¯èª¤æ‘˜è¦
  æª¢æ¸¬åˆ° JavaScript é‹è¡Œæ™‚éŒ¯èª¤
  {% if files %}
  
  ### å½±éŸ¿æ–‡ä»¶ï¼š
  {{ affected_files }}
  {% endif %}

  ## éŒ¯èª¤è©³æƒ…
  {% if error_codes %}
  ### éŒ¯èª¤é¡å‹ï¼š
  {% for code in error_codes %}
  - {{ code }}{% if code == 'TypeError' %}: é¡å‹éŒ¯èª¤ - é€šå¸¸æ˜¯è¨ªå• null/undefined çš„å±¬æ€§{% elif code == 'ReferenceError' %}: å¼•ç”¨éŒ¯èª¤ - è®Šé‡æœªå®šç¾©{% elif code == 'SyntaxError' %}: èªæ³•éŒ¯èª¤{% endif %}
  {% endfor %}
  {% endif %}

  ### éŒ¯èª¤ä¿¡æ¯ï¼š
  ```javascript
  {{ error_text }}
  ```

  ## ğŸ” Debug ç­–ç•¥

  1. **å³æ™‚è¨ºæ–·**
     {% if "Cannot read property" in error_text or "Cannot read properties" in error_text %}
     - å°è±¡ç‚º null æˆ– undefined
     - æ·»åŠ ç©ºå€¼æª¢æŸ¥ï¼š`obj?.property` æˆ– `obj && obj.property`
     - è¨­ç½®é»˜èªå€¼ï¼š`const value = obj?.property || defaultValue`
     {% elif "is not a function" in error_text %}
     - æª¢æŸ¥å‡½æ•¸æ˜¯å¦æ­£ç¢ºå°å…¥/å®šç¾©
     - é©—è­‰èª¿ç”¨æ™‚æ©Ÿï¼ˆå¯èƒ½å°šæœªåˆå§‹åŒ–ï¼‰
     - æª¢æŸ¥ this ç¶å®šå•é¡Œ
     {% elif "is not defined" in error_text %}
     - è®Šé‡åœ¨ä½¿ç”¨å‰æœªè²æ˜
     - æª¢æŸ¥æ‹¼å¯«éŒ¯èª¤
     - ç¢ºèªå°å…¥èªå¥
     {% endif %}

  2. **é˜²ç¦¦æ€§ç·¨ç¨‹**
     - å¯¦ç¾ç©ºå€¼æª¢æŸ¥
     - ä½¿ç”¨ optional chaining (?.)
     - æ·»åŠ é¡å‹é©—è­‰
     - å¯¦ç¾éŒ¯èª¤é‚Šç•Œ (React)

  3. **èª¿è©¦æŠ€å·§**
     - ä½¿ç”¨ console.log è¿½è¸ªè®Šé‡å€¼
     - è¨­ç½®æ–·é»é€²è¡Œæ­¥é€²èª¿è©¦
     - æª¢æŸ¥ç•°æ­¥æ“ä½œçš„æ™‚åº
     - é©—è­‰ API éŸ¿æ‡‰çµæ§‹

  4. **é•·æœŸæ”¹é€²**
     - è€ƒæ…®é·ç§»åˆ° TypeScript
     - å¯¦ç¾æ›´å®Œå–„çš„éŒ¯èª¤è™•ç†
     - æ·»åŠ å–®å…ƒæ¸¬è©¦
     - ä½¿ç”¨ ESLint é€²è¡Œéœæ…‹æª¢æŸ¥

  ## ğŸ’¡ å¸¸è¦‹åŸå› 
  - ç•°æ­¥æ•¸æ“šå°šæœªåŠ è¼‰å®Œæˆ
  - API éŸ¿æ‡‰çµæ§‹è®ŠåŒ–
  - çµ„ä»¶ç”Ÿå‘½é€±æœŸå•é¡Œ
  - äº‹ä»¶è™•ç†å™¨çš„ this ç¶å®šéŒ¯èª¤

  ## ğŸ¤– æ¨è–¦ Agent
  ä½¿ç”¨ `{{ recommended_agent }}` agent ä¾†è™•ç†æ­¤é¡éŒ¯èª¤